{% extends 'leiaute.twig' %}

{% block topo %}
    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header class="intro-header" style="background-position: 1% 20%; background-image: url('{{ asset('topo_criancas.png', 'img') }}')">
        <div class="container" style="background-color: rgb(0, 0, 0); opacity: 0.5; width: 100%; height: 100%;">
            <div class="row">
                <div class="col-lg-12 col-lg-offset-0 col-md-12 col-md-offset-0">
                    <div class="site-heading">
                        <h1>BrinqueCoin</h1>
                    </div>
                </div>
            </div>
        </div>
    </header>
{% endblock %}

{% block conteudo %}
    <!-- Main Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2">
                <form name="frmAtividade" action="{{ path('atividadeSalvar')}}" method="POST" enctype='multipart/form-data' class="form-inline">
                    <h4>Quer criar novas atividades para o quadro{% if quadro is defined %} de {{ quadro.crianca }}?{% endif %}</h4>
                    <div class="form-group col-12 col-sm-12 col-md-9 col-lg-9 col-xl-9">
                        <label for="atividade" class="sr-only">Atividade</label>
                        <input type="text" name="atividade" class="form-control col-12 col-sm-12 col-md-9 col-lg-9 col-xl-9" placeholder="Escovar os dentes" autofocus required 
                        data-validation-required-message="Qual a atividade?">
                    </div>
                    <div class="form-group col-12 col-sm-12 col-md-3 col-lg-3 col-xl-3">
                        <label for="valor" class="sr-only">Valor</label>
                        <input type="number" min="0" step="0.1" name="valor" class="form-control col-12 col-sm-12 col-md-3 col-lg-3 col-xl-3" placeholder="Pontos ou $?">
                    </div>
                    <div class="form-group col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                        <label for="proposito" class="sr-only">Propósito</label>
                        <select name="proposito" class="form-control col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4" required data-validation-required-message="O que vc quer trabalhar com esta atividade?">
                            <option value="" disabled selected>Propósito</option>
                            <option value="E">Escola</option>
                            <option value="H">Higiene</option>
                            <option value="C">Comportamento</option>
                            <option value="A">Autonomia</option>
                            <option value="D">Casa</option>
                            <option value="F">Exercício</option>
                            <option value="R">Refeição</option>
                            <option value="I">Espiritualidade</option>
                            <option value="M">Meu momento</option>
                            <option value="W">Nosso momento</option>
                            <option value="T">Tarefas das família</option>
                            <option value="G">Momentos cinza</option>
                        </select>
                    </div>
                    <div class="form-group col-12 col-sm-12 col-md-8 col-lg-8 col-xl-8">
                        <label for="imagem" class="sr-only">Imagem</label>
                        <input type="file" name="imagem" id="imagem" class="form-control col-12 col-sm-12 col-md-8 col-lg-8 col-xl-8">
                    </div>
                    <div>
                        <input type="hidden" name="quadro" value="{{ quadro.id }}">
                        <input type="hidden" name="codigo" value="{{ quadro.codigo }}">
                        <input type="hidden" name="crianca" value="{{ quadro.crianca }}">
                    </div>
                    <div class="row">
                        <center>
                            <button class="btn btn-primary" type="submit">Salvar</button>
                            <a href= {{app.url_generator.generate('quadroExibir', {'codigo':quadro.codigo})}}><span class="glyphicon glyphicon-folder-open"></span>&nbsp;Abrir quadro</a>
                        <center>
                    </div>
                </form>
            </div>
        </div>
        <div class="row">
            {% if atividades is defined %}
            <div class="table-responsive">
                <table class="table">
                    <thead>
                        <tr>
                            <th>&nbsp;</th>
                            <th>Propósito</th>
                            <th>Tarefa</th>
                            <th><center>Valor</center></th>
                            <th><center>Excluir</center></th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for atividade in atividades %}
                        <tr>
                            {% if atividade.imagem is not null %}
                            <td><img class="imagem" src="{{ asset(atividade.imagem, 'file') }}"></td>
                            {% else %}
                            <td>&nbsp;</td>
                            {% endif %}
                            {% if atividade.proposito == 'E' %} {% set proposito = 'Escola' %}
                            {% elseif atividade.proposito == 'H' %} {% set proposito = 'Higiene' %}
                            {% elseif atividade.proposito == 'C' %} {% set proposito = 'Comportamento' %}
                            {% elseif atividade.proposito == 'A' %} {% set proposito = 'Autonomia' %}
                            {% elseif atividade.proposito == 'D' %} {% set proposito = 'Casa' %}
                            {% elseif atividade.proposito == 'F' %} {% set proposito = 'Exercício' %}
                            {% elseif atividade.proposito == 'R' %} {% set proposito = 'Refeição' %}
                            {% elseif atividade.proposito == 'I' %} {% set proposito = 'Espiritualidade' %}
                            {% elseif atividade.proposito == 'M' %} {% set proposito = 'Meu momento' %}
                            {% elseif atividade.proposito == 'W' %} {% set proposito = 'Nosso momento' %}
                            {% elseif atividade.proposito == 'T' %} {% set proposito = 'Tarefas da família' %}
                            {% elseif atividade.proposito == 'G' %} {% set proposito = 'Momentos cinza' %}
                            {% endif %}
                            <td>{{ proposito }}</td>
                            <td>{{ atividade.atividade }}</td>
                            <td><center>{{ atividade.valor }}</center></td>
                            <td><center><a href="{{ path('atividadeExcluir',{id:atividade.id})}}"><span class="glyphicon glyphicon-remove">&nbsp;</span></a></center></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            {% else %}
            <div class="post-preview">
                <br />
                <p class="post-meta" align="center">Nenhuma atividade cadastrada</p>
            </div>
            {% endif %}
        </div>
    </div>
{% endblock %}

{% block rodape %}
<footer>
    <div class="container">
        <div class="row" align="center">
            <p>Quer dicas de atividades? Veja nossa seção de <b><a href="{{ path('indexDica')}}">dicas</a></b></p>
        </div>
    </div>
</footer>
{% endblock %}
